{"version":3,"sources":["stripe-billing.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"stripe-billing.js","sourcesContent":["(function() {\n\n    var StripeBilling = {\n        init: function()\n        {\n           this.form = $('#billing-form');\n\n           this.submitButton = this.form.find('button[type=submit]');\n           \n           this.form.find('.payment-errors').hide();\n\n           var stripeKey = $('meta[name=\"publishable-key\"]').attr('content');\n\n           Stripe.setPublishableKey(stripeKey);\n\n           this.bindEvents();\n        },\n\n        bindEvents: function()\n        {\n            this.form.on('submit', $.proxy(this.sendToken, this));\n        },\n\n        sendToken: function(event)\n        {\n            this.submitButton.hide();\n\n            this.form.find('.progress').show();\n\n            Stripe.createToken(this.form, $.proxy(this.stripeResponseHandler, this));\n\n            event.preventDefault();\n        },\n\n        stripeResponseHandler: function(status, response)\n        {\n            if (response.error)\n            {    \n                this.form.find('.payment-errors').show().text(response.error.message);\n\n                this.form.find('.progress').hide();\n\n                return this.submitButton.show();\n            }\n\n            $('<input>',{\n                type: 'hidden',\n                name: 'token',\n                value: response.id\n            }).appendTo(this.form);\n\n            this.form[0].submit();\n        }\n    };\n\n    StripeBilling.init();\n})();"],"sourceRoot":"/source/"}