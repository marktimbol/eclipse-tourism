{"version":3,"sources":["twocheckout-billing.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"twocheckout-billing.js","sourcesContent":["\n// Called when token created successfully.\nvar successCallback = function(data) {\n    var billingForm = document.getElementById('billing-form');\n\n    // Set the token as the value for the token input\n    //billingForm.token.value = data.response.token.token;\n\n    $('<input>', {\n        type: 'hidden',\n        name: 'token',\n        value: data.response.token.token\n    }).appendTo(billingForm);\t        \n\n    // IMPORTANT: Here we call `submit()` on the form element directly instead of using jQuery to prevent and infinite token request loop.\n    billingForm.submit();\n};\n\n// Called when token creation fails.\nvar errorCallback = function(data) {\n    if (data.errorCode === 200) {tokenRequest();} else {alert(data.errorMsg);}\n};\n\nvar tokenRequest = function() {\n    // Setup token request arguments\n    var args = {\n        sellerId: $('meta[name=\"twocheckout-account-number\"]').attr('content'),\n        publishableKey: $('meta[name=\"twocheckout-public-key\"]').attr('content'),\n        ccNo: $(\"#cc-number\").val(),\n        cvv: $(\"#cvc\").val(),\n        expMonth: $(\"#expiryMonth\").val(),\n        expYear: $(\"#expiryYear\").val()\n    };\n\n    console.log(args);\n\n    // Make the token request\n    TCO.requestToken(successCallback, errorCallback, args);\n};\n\n$(function() {\n    // Pull in the public encryption key for our environment\n    TCO.loadPubKey('sandbox');\n\n    $(\"#billing-form\").submit(function(e) {\n        // Call our token request function\n        tokenRequest();\n\n        // Prevent form from submitting\n        return false;\n    });\n});"],"sourceRoot":"/source/"}